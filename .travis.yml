language: objective-c

rvm:
  - "2.1.1; export CEDAR_SDK_VERSION=6.1 #"
  - "2.1.1; export CEDAR_SDK_VERSION=7.0 #"
  - "2.1.1; export CEDAR_SDK_VERSION=7.1 #"

env:
  matrix:
    - CEDAR_SDK_RUNTIME_VERSION="6.1" TASK="clean testbundles:run suites:run suites:iosframeworkspecs"
    - CEDAR_SDK_RUNTIME_VERSION="7.0" TASK="clean testbundles:run suites:run suites:iosframeworkspaces"
    - CEDAR_SDK_RUNTIME_VERSION="7.1" TASK="clean testbundles:run suites:run suites:iosframeworkspaces"
    - CEDAR_SDK_RUNTIME_VERSION="6.1" TASK="clean suites:analyze"
    - CEDAR_SDK_RUNTIME_VERSION="7.0" TASK="clean suites:analyze"
    - CEDAR_SDK_RUNTIME_VERSION="7.1" TASK="clean suites:analyze"

before_install: brew update
install:
  - bundle install
  - brew install ios-sim

script: rake $TASK
